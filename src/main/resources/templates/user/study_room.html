<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="/vendors/base/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <link rel="stylesheet" href="/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="/images/favicon.png" />
    <style>
        body{
            margin: 1px;
            border: 2px;
        }
        .container{
            background-color: #FFFFCC;
            border: 1px solid black;
            height: 180px;
            width: 80%;

        }
        .title{
            background-color: #CCFFFF;
            display: inline-block;
            margin-left: 25%;
            font-size: 28px;
            text-align: center;
            width: 20%;

        }
        .Content{
            background: #FFCCCC;
            font-size: 20px;

            width: 100%;
            height: 65%;
        }
        .times{
            float: left;
        }

        ul li {
            list-style-type: none;

        }
        h4{
            display: inline;
        }
        h5{
            display: inline;
        }

    </style>

</head>
<body>
<!-- partial:partials/_navbar.html -->
<nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
    <div class="navbar-brand-wrapper d-flex justify-content-center">
        <div class="navbar-brand-inner-wrapper d-flex justify-content-between align-items-center w-100">
            <a class="navbar-brand brand-logo" href="user_index.html"><img src="/images/logo.svg" alt="logo"/></a>
            <a class="navbar-brand brand-logo-mini" href="user_index.html"><img src="/images/logo-mini.svg" alt="logo"/></a>
            <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                <span class="mdi mdi-sort-variant"></span>
            </button>
        </div>
    </div>

    <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end"     >

        <!--        搜索栏-->
        <ul class="navbar-nav mr-lg-4 w-100" >
            <text style="font-size: 25px;margin-left: 20%;color: #4994c4">The best preparation for tomorrow is doing your best today</text>
        </ul>

        <!--        通知-->
        <ul class="navbar-nav navbar-nav-right">

            <li class="nav-item nav-profile dropdown">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" id="profileDropdown">
                    <img src="/images/faces/admin.png " alt="profile"/>
                    <span class="nav-profile-name">Users</span>
                </a>
                <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                    <a class="dropdown-item">
                        <i class="mdi mdi-settings text-primary"></i>
                        设置
                    </a>
                    <a class="dropdown-item">
                        <i class="mdi mdi-logout text-primary"></i>
                        登出
                    </a>
                </div>
            </li>
        </ul>

        <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
            <span class="mdi mdi-menu"></span>
        </button>
    </div>
</nav>
<!-- 左侧树形导航栏 -->
<div class="container-fluid page-body-wrapper">
    <!-- partial:partials/_sidebar.html -->
    <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:8881/self_study_room/user/notice">
                    <i class="mdi mdi-message-text menu-icon"></i>
                    <span class="menu-title">通知</span>
                </a>

            </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:8881/self_study_room/user/self_study_roompage">
                    <i class="mdi  mdi-book-open-page-variant menu-icon"></i>
                    <span class="menu-title">自习室选择</span>
                </a>
            </li>

            <li class="nav-item">

                <a class="nav-link" data-bs-toggle="collapse" href="#ui-basic" aria-expanded="false" aria-controls="ui-basic">
                    <i class="mdi mdi-forum menu-icon"></i>
                    <span class="menu-title">论坛</span>
                    <i class="menu-arrow"></i>
                </a>
                <div class="collapse" id="ui-basic">

                    <ul class="nav flex-column sub-menu">
                        <li class="nav-item"> <a class="nav-link" href="http://localhost:8881/self_study_room/user/forum">论坛中心</a></li>
                        <li class="nav-item"> <a class="nav-link"  href="http://localhost:8881/self_study_room/user/selfforum">论坛管理</a></li>
                    </ul>

                </div>

            </li>

            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="collapse" href="#auth" aria-expanded="false" aria-controls="auth">
                    <i class="mdi mdi-account menu-icon"></i>
                    <span class="menu-title">个人中心</span>
                    <i class="menu-arrow"></i>
                </a>
                <div class="collapse" id="auth">
                    <ul class="nav flex-column sub-menu">
                        <li class="nav-item"> <a class="nav-link" href="http://localhost:8881/self_study_room/user/reseration"> 预约订单 </a></li>
                        <li class="nav-item"> <a class="nav-link" href="http://localhost:8881/self_study_room/user/changepassword"> 修改密码</a></li>
                        <li class="nav-item"> <a class="nav-link" href="http://localhost:8881/self_study_room/user/favorite"> 收藏座位 </a></li>
                        <!--                        <li class="nav-item"> <a class="nav-link" href="pages/samples/lock-screen.html"> Lockscreen </a></li>-->
                    </ul>
                </div>
            </li>
        </ul>
    </nav>


    <div class="main-panel" style="display: inline-block"    >
<!--        <ul style="list-style-type: none; margin: 0; padding: 0; display: flex; flex-wrap: wrap;" id="roomlist">-->
<!--            <li th:each="allas : ${alls}" style="width: 48%; margin: 10px; border: 1px solid #ccc; border-radius: 5px; overflow: hidden;">-->
<!--                <div>-->
<!--                    第 <span th:text="${allas.getRoom_id()}"></span> 个自习室<br>-->
<!--                    自习室简介：<br>  <span th:text="${allas.getRoom_content()}"></span>-->
<!--                </div>-->
<!--                <img th:src="${allas.getRoom_picture()}" />-->
<!--            </li>-->
<!--        </ul>-->
<!--        <ul style="list-style-type: none; margin: 0; padding: 0; display: flex; flex-wrap: wrap;" id="roomlist">-->
<!--            <li th:each="allas : ${alls}" style="width: 48%; margin: 10px; border: 1px solid #ccc; border-radius: 5px; overflow: hidden;">-->
<!--                <div>-->
<!--                  <span style="font-size: 18px;margin-left: 40%" th:text="${allas.getRoom_id()}"></span> <span style="font-size: 18px">号自习室</span><br>-->
<!--                   自习室简介： <span th:text="${allas.getRoom_content()}"></span>-->
<!--                </div>-->
<!--               <div style="float: right;display: inline-block">-->
<!--                   <p style="display: inline-block"> 容量：</p>-->
<!--                   <span  style="display: inline-block" id="room_volume_input"  th:text="${allas.getRoom_volume()}"> </span>-->
<!--               </div>-->
<!--                <img th:src="${allas.getRoom_picture()}" style="width: 100%; height: auto; display: block;">-->
<!--            </li>-->
<!--        </ul>-->

<!--        <div  th:each="allas : ${alls}"   style="display: inline-block;margin: 24px;margin-left: 50px"  >-->
<!--            <div id="roomlist">-->

<!--                <div class="card" style="width: 18rem;" >-->
<!--                    <img th:src="${allas.getRoom_picture()}" class="card-img-top" alt="...">-->
<!--                    <div class="card-body">-->
<!--                        <h5 class="card-title" th:text="${allas.getRoom_id()}"> </h5> <h5 class="card-title"  > 号自习室</h5><br>-->
<!--                        <h4>简介：</h4>  <p class="card-text" style="display: inline"  th:text="${allas.getRoom_content()}"></p>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <input type="hidden" id="room_volume_input" th:value="${allas.getRoom_volume()}">-->

<!--            </div>-->

<!--        </div>-->
        <div th:each="allas : ${alls}" style="display: inline-block; margin: 24px; margin-left: 50px;">
            <div class="card" style="width: 18rem;">
                <img th:src="${allas.getRoom_picture()}" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title" th:text="${allas.getRoom_id()}"> </h5>
                    <h5 class="card-title"> 号自习室</h5><br>
                    <h4>简介：</h4>
                    <p class="card-text" style="display: inline" th:text="${allas.getRoom_content()}"></p>
                </div>
                <input type="hidden" th:id="'room_volume_input_' + ${allas.getRoom_id()}" th:value="${allas.getRoom_volume()}">
            </div>
        </div>


    </div>


</div>


<!-- plugins:js -->
<script src="/vendors/base/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page-->
<script src="/vendors/chart.js/Chart.min.js"></script>
<script src="/vendors/datatables.net/jquery.dataTables.js"></script>
<script src="/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
<!-- End plugin js for this page-->
<!-- inject:js -->
<script src="/js/off-canvas.js"></script>
<script src="/js/hoverable-collapse.js"></script>
<script src="/js/template.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="/js/dashboard.js"></script>
<script src="/js/data-table.js"></script>
<script src="/js/jquery.dataTables.js"></script>
<script src="/js/dataTables.bootstrap4.js"></script>
<!-- End custom js for this page-->

<script src="/js/jquery.cookie.js" type="text/javascript"></script>
</body>
<script>

    // var roomlist = document.getElementById("roomlist");
    // roomlist.addEventListener("click",function (event){
    //     alert("22")
    //     var clickedLi = event.target.closest("li");
    //
    //     var roomVolume = document.getElementById("room_volume_input").value;
    //     // var roomVolume = clickedLi.querySelector("#room_volume_input").textContent;
    //     var roomId = roomlist.querySelector(".card-title").textContent;
    //     var roomContent = roomlist.querySelector(".card-text").textContent;
    //     var roomPicture = roomlist.querySelector(".card-img-top").getAttribute("src");
    //     console.log(roomVolume)
    //
    //     var url = "http://localhost:8881/self_study_room/user/room?roomId=" + encodeURIComponent(roomId) +
    //         "&roomContent=" + encodeURIComponent(roomContent) +
    //         "&roomPicture=" + encodeURIComponent(roomPicture) +
    //         "&roomVolume=" + encodeURIComponent(roomVolume);
    //
    //     window.location.href = url;
    //
    //     console.log(roomVolume)
    //
    // })

    var roomList = document.querySelectorAll(".card");
    roomList.forEach(function(room) {
        room.addEventListener("click", function(event) {
            var clickedRoom = event.target.closest(".card");

            var roomId = clickedRoom.querySelector(".card-title").textContent;
            var roomContent = clickedRoom.querySelector(".card-text").textContent;
            var roomPicture = clickedRoom.querySelector(".card-img-top").getAttribute("src");
            var roomVolume = clickedRoom.querySelector("#room_volume_input_" + roomId).value;

            var url = "http://localhost:8881/self_study_room/user/Contreteroom?roomId=" + encodeURIComponent(roomId) +
                "&roomContent=" + encodeURIComponent(roomContent) +
                "&roomPicture=" + encodeURIComponent(roomPicture) +
                "&roomVolume=" + encodeURIComponent(roomVolume);

            window.location.href = url;
        });
    });

</script>
</html>